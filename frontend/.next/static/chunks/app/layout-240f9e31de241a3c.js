(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{368:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},4692:(e,r,o)=>{"use strict";o.d(r,{U:()=>n});var t=o(509);function n(){return(0,t.createBrowserClient)("https://rjtynxmasadaovnnwdth.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqdHlueG1hc2FkYW92bm53ZHRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NDAyMTQsImV4cCI6MjA3MjExNjIxNH0.pXpGItGkgp28dRBgFSXO1u9_ni8q7kBGYL99_NjOMkw")}},6276:e=>{e.exports={style:{fontFamily:"'Poppins', 'Poppins Fallback'",fontStyle:"normal"},className:"__className_44151c",variable:"__variable_44151c"}},6998:(e,r,o)=>{Promise.resolve().then(o.bind(o,7666)),Promise.resolve().then(o.t.bind(o,368,23)),Promise.resolve().then(o.t.bind(o,6276,23)),Promise.resolve().then(o.t.bind(o,7328,23))},7328:()=>{},7666:(e,r,o)=>{"use strict";o.d(r,{A:()=>c,AuthProvider:()=>a});var t=o(4166),n=o(1446),s=o(4692),i=o(9872);let l=(0,n.createContext)(void 0);function a(e){let{children:r}=e,[o,a]=(0,n.useState)(null),[c,u]=(0,n.useState)(null),[v,d]=(0,n.useState)(!0),h=(0,s.U)();(0,n.useEffect)(()=>{(async()=>{var e;let{data:{session:r}}=await h.auth.getSession();a(null!==(e=null==r?void 0:r.user)&&void 0!==e?e:null),(null==r?void 0:r.user)&&await g(r.user.id),d(!1)})();let{data:{subscription:e}}=h.auth.onAuthStateChange(async(e,r)=>{var o,t;console.log("[v0] Auth state changed:",e,null==r?void 0:null===(o=r.user)||void 0===o?void 0:o.email),a(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null),(null==r?void 0:r.user)?await g(r.user.id):u(null),d(!1)});return()=>e.unsubscribe()},[h.auth]);let g=async e=>{try{console.log("[v0] Fetching profile for user:",e);let{data:r,error:o}=await h.from("profiles").select("*").eq("id",e).single();if(o&&"PGRST116"!==o.code){console.error("[v0] Error fetching profile:",o);return}console.log("[v0] Profile fetched:",r),u(r||null)}catch(e){console.error("[v0] Error fetching profile:",e)}},p=async(e,r)=>{try{console.log("[v0] Attempting sign in for:",e);let{error:o}=await h.auth.signInWithPassword({email:e,password:r});return o?console.error("[v0] Sign in error:",o):console.log("[v0] Sign in successful"),{error:o}}catch(e){return console.error("[v0] Sign in exception:",e),{error:e}}},_=async(e,r,o)=>{try{console.log("[v0] Attempting sign up for:",e,"with metadata:",o);let{error:t}=await h.auth.signUp({email:e,password:r,options:{emailRedirectTo:i.env.NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL||"".concat(window.location.origin,"/auth/callback"),data:o||{}}});return t?console.error("[v0] Sign up error:",t):console.log("[v0] Sign up successful"),{error:t}}catch(e){return console.error("[v0] Sign up exception:",e),{error:e}}},f=async()=>{console.log("[v0] Signing out user"),await h.auth.signOut()},w=async e=>{try{console.log("[v0] Requesting password reset for:",e);let{error:r}=await h.auth.resetPasswordForEmail(e,{redirectTo:i.env.NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL||"".concat(window.location.origin,"/auth/reset-password")});return r?console.error("[v0] Password reset error:",r):console.log("[v0] Password reset email sent"),{error:r}}catch(e){return console.error("[v0] Password reset exception:",e),{error:e}}};return(0,t.jsx)(l.Provider,{value:{user:o,profile:c,loading:v,signIn:p,signUp:_,signOut:f,resetPassword:w},children:r})}function c(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var r=r=>e(e.s=r);e.O(0,[445,369,509,305,349,358],()=>r(6998)),_N_E=e.O()}]);